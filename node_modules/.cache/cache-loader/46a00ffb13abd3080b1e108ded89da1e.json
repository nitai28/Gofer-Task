{"remainingRequest":"C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\node_modules\\vue-loader\\lib\\selector.js?type=script&index=0!C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\src\\components\\contact-add.vue","dependencies":[{"path":"C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\src\\components\\contact-add.vue","mtime":1534591544757},{"path":"C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\.babelrc","mtime":1524309964448},{"path":"C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534227874529},{"path":"C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\node_modules\\babel-loader\\lib\\index.js","mtime":1519636541000},{"path":"C:\\Users\\Nitai\\Desktop\\Gofer home assignment\\node_modules\\vue-loader\\lib\\selector.js","mtime":1520395331000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Validator } from 'vee-validate';\nimport contactService from '../services/contact.service.js';\nimport EventBusService, { SHOW_MSG } from '../services/EventBusService.js';\nimport axios from 'axios';\nimport userMsg from './user-msg';\nexport default {\n  name: \"contact-add\",\n  data: function data() {\n    return {\n      contactToAdd: contactService.getEmptyObj(),\n      passwordToConfirm: '',\n      selectedFile: null,\n      cloudinary: {\n        uploadPreset: 'rineqrjw',\n        apiKey: '911599245781842',\n        cloudName: 'nitai'\n      },\n      thumb: {\n        url: ''\n      },\n      thumbs: []\n    };\n  },\n  methods: {\n    validateBeforeSubmit: function validateBeforeSubmit() {\n      var _this = this;\n\n      this.$validator.validateAll().then(function (result) {\n        var that = _this;\n\n        if (result) {\n          _this.contactToAdd.photo = _this.selectedFile;\n\n          _this.$store.dispatch({\n            type: 'saveContact',\n            contact: _this.contactToAdd\n          }).then(function () {\n            _this.contactToAdd = contactService.getEmptyObj();\n            EventBusService.$emit(SHOW_MSG, 'add');\n            _this.passwordToConfirm = '';\n\n            _this.errors.clear();\n          });\n\n          return;\n        } else setTimeout(function () {\n          that.errors.clear();\n        }, 6000);\n      });\n    },\n    clearInput: function clearInput() {\n      this.contactToAdd = contactService.getEmptyObj();\n      this.passwordToConfirm = '';\n    },\n    upload: function upload(file) {\n      var _this2 = this;\n\n      var formData = new FormData();\n      formData.append('file', file[0]);\n      formData.append('upload_preset', this.cloudinary.uploadPreset);\n      formData.append('tags', 'gs-vue,gs-vue-uploaded');\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = formData.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var pair = _step.value;\n          console.log(pair[0] + ', ' + pair[1]);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      axios.post(this.clUrl, formData).then(function (res) {\n        _this2.selectedFile = res.data.url;\n        console.log(_this2.selectedFile);\n\n        _this2.thumbs.unshift({\n          url: res.data.secure_url\n        });\n      });\n    }\n  },\n  computed: {\n    clUrl: function clUrl() {\n      return \"https://api.cloudinary.com/v1_1/\".concat(this.cloudinary.cloudName, \"/upload\");\n    }\n  },\n  components: {\n    Validator: Validator,\n    contactService: contactService,\n    EventBusService: EventBusService,\n    userMsg: userMsg\n  }\n};",{"version":3,"sources":["contact-add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AAEA;AACA;AAEA;QAEA;wBACA;;mCAEA;yBACA;oBACA;;sBAEA;gBACA;mBACA,AACA;AAJA;;aAMA,AACA;AAFA;cAGA,AACA;AAbA;AAeA;;;AAEA;;2DACA;mBACA;;oBACA;2CACA;;;;2BACA;8BACA;gDACA;4CACA;sCACA;;yBACA;AACA;;AACA;AACA,sCACA;sBACA;WACA;AACA;AACA;sCACA;yCACA;+BAEA;AACA;;AACA;;yBACA;mCACA;uDACA;8BACA;;;;;;;AACA;4CACA;AACA;;;;;;;;;;;;;;;;2DACA;uCACA;2BACA;;;wBAEA,AACA;AAFA;AAGA;AACA,AACA;AAzCA;;4BA2CA;uEACA;AACA,AAEA;AALA;;AAOA;AACA;AACA;AACA,AACA;AALA;AAnEA","file":"contact-add.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n    <section class=\"contact-add\">\r\n        <userMsg></userMsg>\r\n        <div class=\"contact-add-container\">\r\n            <img class=\"app-logo\" src=\"/img/gofer-logo.png\" alt=\"logo\">\r\n\r\n            <h2>User details</h2>\r\n            <form @submit.prevent=\"validateBeforeSubmit\">\r\n                <div class=\"user-details\">\r\n                    <div class=\"two-input\">\r\n                        <div class=\"input-box\">\r\n                            <input type=\"text\" name=\"First Name\" placeholder=\"First Name\"\r\n                                   v-model=\"contactToAdd.firstName\"\r\n                                   v-validate=\"'required'\">\r\n                            <p class=\"error-message\">{{ errors.first('First Name') }}</p>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"input-box\">\r\n                            <input type=\"text\" name=\"Last Name\" placeholder=\"Last Name\" v-model=\"contactToAdd.lastName\"\r\n                                   v-validate=\"'required'\">\r\n                            <p class=\"error-message\">{{ errors.first('Last Name') }}</p>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"two-input\">\r\n                        <div class=\"input-box\">\r\n\r\n                            <input type=\"date\" name=\"Birth Date\" placeholder=\"Birth Date\"\r\n                                   v-model=\"contactToAdd.birthDay\"\r\n                                   v-validate=\"'required'\">\r\n                            <p class=\"error-message\">{{ errors.first('Birth Date') }}</p>\r\n\r\n                        </div>\r\n\r\n                        <input type=\"text\" placeholder=\"Phone Number\" v-model=\"contactToAdd.phoneNumber\">\r\n                    </div>\r\n\r\n                    <div class=\"input-box email\">\r\n                        <input type=\"text\" name=\"email\" placeholder=\"Email Address\" v-model=\"contactToAdd.emailAddress\"\r\n                               v-validate=\"'required|email'\">\r\n                        <p class=\"error-message\">{{ errors.first('email') }}</p>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <h2>Account details</h2>\r\n                <div class=\"account-details\">\r\n                    <div class=\"account-details-content\">\r\n\r\n                        <div class=\"input-box\">\r\n                            <input type=\"text\" name=\"User Name\" placeholder=\"User Name\"\r\n                                   v-model=\"contactToAdd.accountName\"\r\n                                   v-validate=\"'required'\">\r\n                            <p class=\"error-message\">{{ errors.first('User Name') }}</p>\r\n\r\n                        </div>\r\n                        <div class=\"input-box\">\r\n                            <input type=\"password\" name=\"Password\" placeholder=\"Password\"\r\n                                   v-model=\"contactToAdd.password\"\r\n                                   v-validate=\"'required|confirmed:pw_confirm'\">\r\n                            <p class=\"error-message\">{{ errors.first('Password') }}</p>\r\n\r\n                        </div>\r\n                        <div class=\"input-box\">\r\n                            <input type=\"password\" name=\"pw_confirm\"\r\n                                   ref=\"pw_confirm\" placeholder=\"Repeat Password\"\r\n                                   v-model=\"passwordToConfirm\"\r\n                                   v-validate=\"'required'\">\r\n                            <p class=\"error-message\">{{ errors.first('pw_confirm') }}</p>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"pic-container\">\r\n                        <input style=\"display:none\" ref=\"fileInput\" type=\"file\" @change=upload($event.target.files)\r\n                               accept=\"image/*\">\r\n                        <div class=\"add-pic\">\r\n                            <img v-if=\"!selectedFile\" @click=\"$refs.fileInput.click()\" src=\"/img/add.svg\" alt=\"plus\">\r\n                            <span v-if=\"!selectedFile\">Add photo</span>\r\n                        </div>\r\n                        <img v-if=\"!selectedFile\" class=\"avatar-pic\" src=\"/img/contacts/avatar.png\" alt=\"\">\r\n                        <img v-else class=\"pic-preview\" :src=\"selectedFile\" alt=\"\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"button-details\">\r\n                    <input @click=\"clearInput\" type=\"button\" class=\"red button\" value=\"Clear\">\r\n                    <input type=\"submit\" class=\"blue button\" value=\"Add\">\r\n\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n\r\n\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n    import {Validator} from 'vee-validate';\r\n    import contactService from '../services/contact.service.js'\r\n    import EventBusService, {SHOW_MSG} from '../services/EventBusService.js'\r\n\r\n    import axios from 'axios';\r\n    import  userMsg from './user-msg'\r\n\r\n    export default {\r\n        name: \"contact-add\",\r\n        data() {\r\n            return {\r\n                contactToAdd: contactService.getEmptyObj(),\r\n                passwordToConfirm: '',\r\n                selectedFile: null,\r\n                cloudinary: {\r\n                    uploadPreset: 'rineqrjw',\r\n                    apiKey: '911599245781842',\r\n                    cloudName: 'nitai'\r\n                },\r\n                thumb: {\r\n                    url: ''\r\n                },\r\n                thumbs: [],\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            validateBeforeSubmit() {\r\n                this.$validator.validateAll().then((result) => {\r\n                    var that = this;\r\n                    if (result) {\r\n                        this.contactToAdd.photo = this.selectedFile;\r\n                        this.$store.dispatch({type: 'saveContact', contact: this.contactToAdd})\r\n                            .then(() => {\r\n                                this.contactToAdd = contactService.getEmptyObj();\r\n                                EventBusService.$emit(SHOW_MSG, 'add')\r\n                                this.passwordToConfirm = '';\r\n                                this.errors.clear();\r\n                            })\r\n                        return;\r\n                    }\r\n                    else setTimeout(() => {\r\n                        that.errors.clear();\r\n                    }, 6000);\r\n                })\r\n            },\r\n            clearInput() {\r\n                this.contactToAdd = contactService.getEmptyObj();\r\n                this.passwordToConfirm = '';\r\n\r\n            },\r\n            upload: function (file) {\r\n                const formData = new FormData()\r\n                formData.append('file', file[0]);\r\n                formData.append('upload_preset', this.cloudinary.uploadPreset);\r\n                formData.append('tags', 'gs-vue,gs-vue-uploaded');\r\n                for (var pair of formData.entries()) {\r\n                    console.log(pair[0] + ', ' + pair[1]);\r\n                }\r\n                axios.post(this.clUrl, formData).then(res => {\r\n                    this.selectedFile = res.data.url\r\n                    console.log(this.selectedFile)\r\n                    this.thumbs.unshift({\r\n                        url: res.data.secure_url\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        computed: {\r\n            clUrl: function () {\r\n                return `https://api.cloudinary.com/v1_1/${this.cloudinary.cloudName}/upload`\r\n            },\r\n        },\r\n\r\n        components: {\r\n            Validator,\r\n            contactService,\r\n            EventBusService,\r\n            userMsg,\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n    .contact-add {\r\n        position: relative;\r\n        background-color: #f5f7fa;\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        margin: 0 auto;\r\n        text-align: center;\r\n        .input-box {\r\n            position: relative;\r\n            p {\r\n                position: absolute;\r\n                top: 35px;\r\n                left: 5px;\r\n                font-size: 9px;\r\n                color: red;\r\n            }\r\n        }\r\n        .contact-add-container {\r\n            width: 520px;\r\n            margin-top: 98px;\r\n            h2 {\r\n                height: 22px;\r\n                font-family: OpenSans;\r\n                font-size: 16px;\r\n                font-weight: bold;\r\n                font-style: normal;\r\n                font-stretch: normal;\r\n                line-height: normal;\r\n                letter-spacing: normal;\r\n                text-align: left;\r\n                color: #131b3c;\r\n                margin-bottom: 20px;\r\n            }\r\n            .app-logo {\r\n                margin-bottom: 74px;\r\n            }\r\n            .user-details {\r\n                width: 100%;\r\n                display: flex;\r\n                flex-wrap: wrap;\r\n                margin: 0;\r\n                input {\r\n                    margin-bottom: 20px;\r\n                    height: 34px;\r\n                    padding: 5px;\r\n                    border-radius: 5px;\r\n                    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.1);\r\n                    background-color: #ffffff;\r\n                    border: solid 1px #e6e9f2;\r\n                    &:not(:last-child) {\r\n                        width: 250px;\r\n                    }\r\n                    &:last-child {\r\n                        width: 100%;\r\n                    }\r\n                    &:nth-child(odd):not(:last-child) {\r\n                        margin-right: 20px;\r\n                    }\r\n\r\n                }\r\n                .email {\r\n                    width: 100%;\r\n                    input {\r\n                        width: 100%;\r\n                        margin-right: 0;\r\n                    }\r\n                }\r\n                .two-input {\r\n                    width: 100%;\r\n                    display: flex;\r\n                }\r\n\r\n            }\r\n            .account-details {\r\n                display: flex;\r\n                width: 100%;\r\n                justify-content: left;\r\n                margin-bottom: 40px;\r\n                .account-details-content {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n\r\n                }\r\n                input {\r\n                    width: 358px;\r\n                    height: 34px;\r\n                    border-radius: 5px;\r\n                    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.1);\r\n                    background-color: #ffffff;\r\n                    border: solid 1px #e6e9f2;\r\n                    margin-right: 20px;\r\n                    margin-bottom: 19px;\r\n                    padding: 5px;\r\n                    &:last-child {\r\n                        margin-bottom: 0;\r\n                    }\r\n                }\r\n                .pic-container {\r\n                    position: relative;\r\n                    width: 142px;\r\n                    height: 142px;\r\n                    border-radius: 5px;\r\n                    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.1);\r\n                    background-color: #ffffff;\r\n                    border: solid 1px #e6e9f2;\r\n                    .avatar-pic {\r\n                        position: absolute;\r\n                        width: 100px;\r\n                        z-index: 1;\r\n                        bottom: -1px;\r\n                        left: 19px;\r\n                    }\r\n                    .pic-preview {\r\n                        width: 100%;\r\n                        height: 100%;\r\n                        position: absolute;\r\n                        top: 0;\r\n                        left: 0;\r\n                        object-fit: cover;\r\n                    }\r\n                    .add-pic {\r\n                        color: #9ba0b2;\r\n                        font-size: 12px;\r\n                        margin-top: 17px;\r\n                        img {\r\n                            margin-right: 6px;\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n            .button-details {\r\n                display: flex;\r\n                justify-content: flex-end;\r\n                margin-bottom: 98px;\r\n                .button {\r\n                    color: #ffffff;\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    font-size: 13px;\r\n                    height: 30px;\r\n                    width: 94px;\r\n                    border-radius: 4px;\r\n\r\n                }\r\n                .blue {\r\n                    background-color: #5891e2;\r\n\r\n                }\r\n                .red {\r\n                    margin-right: 20px;\r\n                    background-color: #ff5575;\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n</style>"]}]}